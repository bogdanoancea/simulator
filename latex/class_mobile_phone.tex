\hypertarget{class_mobile_phone}{}\doxysection{Mobile\+Phone Class Reference}
\label{class_mobile_phone}\index{MobilePhone@{MobilePhone}}


{\ttfamily \#include $<$Mobile\+Phone.\+h$>$}



Inheritance diagram for Mobile\+Phone\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_mobile_phone__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Mobile\+Phone\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_mobile_phone__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_mobile_phone_afd7beed70eb2af3baecd9521332ba8eb}{Mobile\+Phone}} (const \mbox{\hyperlink{class_map}{Map}} $\ast$m, const unsigned long id, Point $\ast$init\+Position, \mbox{\hyperlink{class_agent}{Agent}} $\ast$holder, const \mbox{\hyperlink{class_clock}{Clock}} $\ast$clock, double threshold, \mbox{\hyperlink{class_holdable_agent_ae2c334b004d7b9c5a999cf2618e4e518}{Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}} conn\+Type)
\item 
virtual \mbox{\hyperlink{class_mobile_phone_a51db1d9b4fcc52ea9f8d613dae4f6a4b}{$\sim$\+Mobile\+Phone}} ()
\item 
const string \mbox{\hyperlink{class_mobile_phone_a818272053e6e52ecc217dc5ee234ff69}{to\+String}} (bool detailed=false) const override
\item 
Point $\ast$ \mbox{\hyperlink{class_mobile_phone_a785d0cac08252386603c702ad8f38c5b}{move}} () override
\item 
bool \mbox{\hyperlink{class_mobile_phone_ad91afa811cea8ee124167f5941bcda1b}{try\+Connect}} () override
\item 
const \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} $\ast$ \mbox{\hyperlink{class_mobile_phone_aba72025d08c382d8533e0cbb9166999b}{get\+Mobile\+Operator}} () const
\item 
void \mbox{\hyperlink{class_mobile_phone_ad4db8203e8f2e974733357d7c3e6cf28}{set\+Mobile\+Operator}} (\mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} $\ast$mno)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static const string \mbox{\hyperlink{class_mobile_phone_a38cabfd91b77cd839f497facb9ed937c}{get\+Header}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{class_mobile_phone_afb6364675f7cf6e09856f49ae6c10563}{m\+\_\+threshold}}
\item 
\mbox{\hyperlink{class_antenna}{Antenna}} $\ast$ \mbox{\hyperlink{class_mobile_phone_aa143b94346485788c3563228f6043721}{m\+\_\+connected\+To}}
\item 
\mbox{\hyperlink{class_holdable_agent_ae2c334b004d7b9c5a999cf2618e4e518}{Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}} \mbox{\hyperlink{class_mobile_phone_a39f69fef45f380e3922dfe78b904372d}{m\+\_\+conn\+Type}}
\item 
\mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} $\ast$ \mbox{\hyperlink{class_mobile_phone_a1b26abc840ac8f8679dd62939330c597}{m\+\_\+mno}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
This class represents a mobile phone. A mobile phone is owned by a \mbox{\hyperlink{class_person}{Person}} object and it moves on the map together with its owner. While moving, at every time step, when a new location is set, it interacts with surrounding antennas, trying to connect to the antenna that provides the best signal in terms of signal strength/dominance, according to the handover mechanism read from the simulation configuration file. The connection event is triggered by the call of \mbox{\hyperlink{class_holdable_agent_aec98d2fe325b48d9a84ad3dad44700e0}{set\+Location()}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_mobile_phone_afd7beed70eb2af3baecd9521332ba8eb}\label{class_mobile_phone_afd7beed70eb2af3baecd9521332ba8eb}} 
\index{MobilePhone@{MobilePhone}!MobilePhone@{MobilePhone}}
\index{MobilePhone@{MobilePhone}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{MobilePhone()}{MobilePhone()}}
{\footnotesize\ttfamily Mobile\+Phone\+::\+Mobile\+Phone (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_map}{Map}} $\ast$}]{m,  }\item[{const unsigned long}]{id,  }\item[{Point $\ast$}]{init\+Position,  }\item[{\mbox{\hyperlink{class_agent}{Agent}} $\ast$}]{holder,  }\item[{const \mbox{\hyperlink{class_clock}{Clock}} $\ast$}]{clock,  }\item[{double}]{threshold,  }\item[{\mbox{\hyperlink{class_holdable_agent_ae2c334b004d7b9c5a999cf2618e4e518}{Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}}}]{conn\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Builds a new \mbox{\hyperlink{class_mobile_phone}{Mobile\+Phone}} object with the parameters provided by the user. 
\begin{DoxyParams}{Parameters}
{\em m} & a pointer to the \mbox{\hyperlink{class_map}{Map}} object where the simulation takes place. \\
\hline
{\em id} & the id of the \mbox{\hyperlink{class_mobile_phone}{Mobile\+Phone}} object. \\
\hline
{\em init\+Position} & the initial location of the mobile phone on the map. \\
\hline
{\em holder} & a pointer to the \mbox{\hyperlink{class_agent}{Agent}} object that owns this mobile phone. \\
\hline
{\em clock} & a pointer to the \mbox{\hyperlink{class_clock}{Clock}} object used in this simulation. \\
\hline
{\em threshold} & the minimum signal dominance or signal strength of the field below which the mobile phone cannot connect to an antenna. \\
\hline
{\em conn\+Type} & the type of the handover mechanism\+: based on the signal strength or signal dominance. It could take one of the following values\+: Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+P\+E\+::\+U\+S\+I\+N\+G\+\_\+\+S\+I\+G\+N\+A\+L\+\_\+\+D\+O\+M\+I\+N\+A\+N\+CE or Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+P\+E\+::\+U\+S\+I\+N\+G\+\_\+\+S\+I\+G\+N\+A\+L\+\_\+\+S\+T\+R\+E\+N\+G\+TH. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_mobile_phone_a51db1d9b4fcc52ea9f8d613dae4f6a4b}\label{class_mobile_phone_a51db1d9b4fcc52ea9f8d613dae4f6a4b}} 
\index{MobilePhone@{MobilePhone}!````~MobilePhone@{$\sim$MobilePhone}}
\index{````~MobilePhone@{$\sim$MobilePhone}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{$\sim$MobilePhone()}{~MobilePhone()}}
{\footnotesize\ttfamily virtual Mobile\+Phone\+::$\sim$\+Mobile\+Phone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

The default destructor of the class. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_mobile_phone_a38cabfd91b77cd839f497facb9ed937c}\label{class_mobile_phone_a38cabfd91b77cd839f497facb9ed937c}} 
\index{MobilePhone@{MobilePhone}!getHeader@{getHeader}}
\index{getHeader@{getHeader}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{getHeader()}{getHeader()}}
{\footnotesize\ttfamily static const string Mobile\+Phone\+::get\+Header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Returns a string with the header line of the description of the mobile phone returned by the \mbox{\hyperlink{class_mobile_phone_a818272053e6e52ecc217dc5ee234ff69}{to\+String()}} method. It is a static method, the header line being the same for all mobile phones regardless the owner. \begin{DoxyReturn}{Returns}
a string with the header line of the description of the mobile phone returned by the \mbox{\hyperlink{class_mobile_phone_a818272053e6e52ecc217dc5ee234ff69}{to\+String()}} method. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_mobile_phone_aba72025d08c382d8533e0cbb9166999b}\label{class_mobile_phone_aba72025d08c382d8533e0cbb9166999b}} 
\index{MobilePhone@{MobilePhone}!getMobileOperator@{getMobileOperator}}
\index{getMobileOperator@{getMobileOperator}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{getMobileOperator()}{getMobileOperator()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}}$\ast$ Mobile\+Phone\+::get\+Mobile\+Operator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} object that owns this mobile phone. Each mobile phone should belong to a Mobile Operator. \begin{DoxyReturn}{Returns}
the \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} object that owns this mobile phone. Each mobile phone should belong to a Mobile Operator. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_mobile_phone_a785d0cac08252386603c702ad8f38c5b}\label{class_mobile_phone_a785d0cac08252386603c702ad8f38c5b}} 
\index{MobilePhone@{MobilePhone}!move@{move}}
\index{move@{move}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{move()}{move()}}
{\footnotesize\ttfamily Point$\ast$ Mobile\+Phone\+::move (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Makes a step on the map according to the movement strategy set to the \mbox{\hyperlink{class_person}{Person}} object which owns this mobile phone. The displacement strategy is set at the \mbox{\hyperlink{class_person}{Person}} object creation and currently the following strategies are supported\+: \mbox{\hyperlink{class_random_walk_displacement}{Random\+Walk\+Displacement}}, \mbox{\hyperlink{class_random_walk_drift_displacement}{Random\+Walk\+Drift\+Displacement}}, \mbox{\hyperlink{class_levy_flight_displacement}{Levy\+Flight\+Displacement}} and \mbox{\hyperlink{class_home_work_displacement}{Home\+Work\+Displacement}}. \begin{DoxyReturn}{Returns}
the final location after the displacement. The mobile phone moves together with the \mbox{\hyperlink{class_person}{Person}} which owns it. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_movable_agent_a88b617f0e78c817634e5b587da045ab0}{Movable\+Agent}}.

\mbox{\Hypertarget{class_mobile_phone_ad4db8203e8f2e974733357d7c3e6cf28}\label{class_mobile_phone_ad4db8203e8f2e974733357d7c3e6cf28}} 
\index{MobilePhone@{MobilePhone}!setMobileOperator@{setMobileOperator}}
\index{setMobileOperator@{setMobileOperator}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{setMobileOperator()}{setMobileOperator()}}
{\footnotesize\ttfamily void Mobile\+Phone\+::set\+Mobile\+Operator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} $\ast$}]{mno }\end{DoxyParamCaption})}

Sets the \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} object which owns this mobile phone. 
\begin{DoxyParams}{Parameters}
{\em mno} & a pointer to the \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}} object which owns this mobile phone. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_mobile_phone_a818272053e6e52ecc217dc5ee234ff69}\label{class_mobile_phone_a818272053e6e52ecc217dc5ee234ff69}} 
\index{MobilePhone@{MobilePhone}!toString@{toString}}
\index{toString@{toString}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{toString()}{toString()}}
{\footnotesize\ttfamily const string Mobile\+Phone\+::to\+String (\begin{DoxyParamCaption}\item[{bool}]{detailed = {\ttfamily false} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Builds a string with the most relevant information of the class. It is useful to output the description of the mobile phone to the console or to a file. The parameter
\begin{DoxyParams}{Parameters}
{\em is} & currently ignored. \\
\hline
{\em detailed} & is currently ignored. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a string object containing the id of the mobile phone, the coordinates of the location, the current speed of movement, the id of the \mbox{\hyperlink{class_person}{Person}} object that owns this mobile phone and the id of the mobile network operator where this mobile phone has a subscription. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_holdable_agent_a104d14d5742847a9d5fc74d18f2c1571}{Holdable\+Agent}}.

\mbox{\Hypertarget{class_mobile_phone_ad91afa811cea8ee124167f5941bcda1b}\label{class_mobile_phone_ad91afa811cea8ee124167f5941bcda1b}} 
\index{MobilePhone@{MobilePhone}!tryConnect@{tryConnect}}
\index{tryConnect@{tryConnect}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{tryConnect()}{tryConnect()}}
{\footnotesize\ttfamily bool Mobile\+Phone\+::try\+Connect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

This method is called after the mobile phone moves (together with its owner) to a new location. It tries to connect the mobile phone to an antenna. The connection method is determined by inspecting the {\itshape m\+\_\+conn\+Type} member\+: using the signal dominance or using the signal strength. The value of the {\itshape m\+\_\+conn\+Type} member is set by the constructor of the class. If the connection is successfully, a pointer to the \mbox{\hyperlink{class_antenna}{Antenna}} object where this mobile phone was connected is stored internally. First, if the mobile phone is already connected to an antenna, this method checks if the mobile phone is still providing a signal strong enough for a connection and if not it detaches from that antenna. Then it selects the antenna providing the best signal (in terms of signal strength or dominance) and tries to connect to it. If the connection is successful it saves a pointer to that \mbox{\hyperlink{class_antenna}{Antenna}} object. If this antenna reject the connection( for example it reached its maximum number of simultaneous connections) then a list of all other antennas is build, ordered by the signal strength/dominance. The mobile phone iterates through this list and tries to connect to an antenna. If one antenna accepts the incoming connection the method returns true, otherwise it returns false. When a connection is established, the pointer to the \mbox{\hyperlink{class_antenna}{Antenna}} object is updated accordingly. \begin{DoxyReturn}{Returns}
true if the connection succeeds, false otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_holdable_agent_a0789d757d81b43ee016e9362046f6dea}{Holdable\+Agent}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_mobile_phone_aa143b94346485788c3563228f6043721}\label{class_mobile_phone_aa143b94346485788c3563228f6043721}} 
\index{MobilePhone@{MobilePhone}!m\_connectedTo@{m\_connectedTo}}
\index{m\_connectedTo@{m\_connectedTo}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{m\_connectedTo}{m\_connectedTo}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_antenna}{Antenna}}$\ast$ Mobile\+Phone\+::m\+\_\+connected\+To\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_mobile_phone_a39f69fef45f380e3922dfe78b904372d}\label{class_mobile_phone_a39f69fef45f380e3922dfe78b904372d}} 
\index{MobilePhone@{MobilePhone}!m\_connType@{m\_connType}}
\index{m\_connType@{m\_connType}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{m\_connType}{m\_connType}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_holdable_agent_ae2c334b004d7b9c5a999cf2618e4e518}{Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}} Mobile\+Phone\+::m\+\_\+conn\+Type\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_mobile_phone_a1b26abc840ac8f8679dd62939330c597}\label{class_mobile_phone_a1b26abc840ac8f8679dd62939330c597}} 
\index{MobilePhone@{MobilePhone}!m\_mno@{m\_mno}}
\index{m\_mno@{m\_mno}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{m\_mno}{m\_mno}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_mobile_operator}{Mobile\+Operator}}$\ast$ Mobile\+Phone\+::m\+\_\+mno\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_mobile_phone_afb6364675f7cf6e09856f49ae6c10563}\label{class_mobile_phone_afb6364675f7cf6e09856f49ae6c10563}} 
\index{MobilePhone@{MobilePhone}!m\_threshold@{m\_threshold}}
\index{m\_threshold@{m\_threshold}!MobilePhone@{MobilePhone}}
\doxysubsubsection{\texorpdfstring{m\_threshold}{m\_threshold}}
{\footnotesize\ttfamily double Mobile\+Phone\+::m\+\_\+threshold\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/agent/\mbox{\hyperlink{_mobile_phone_8h}{Mobile\+Phone.\+h}}\end{DoxyCompactItemize}
