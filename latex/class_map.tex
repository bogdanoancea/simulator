\hypertarget{class_map}{}\doxysection{Map Class Reference}
\label{class_map}\index{Map@{Map}}


{\ttfamily \#include $<$Map.\+h$>$}



Inheritance diagram for Map\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=186pt]{class_map__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Map\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_map__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_map_ac1ab46138aa61acd0a58b1fd21e0df37}{$\sim$\+Map}} ()
\item 
virtual Geometry $\ast$ \mbox{\hyperlink{class_map_aa6b66dc80060a42151228f3764db539f}{get\+Boundary}} () const =0
\item 
virtual Geometry $\ast$ \mbox{\hyperlink{class_map_a40854af632e83500ca5b44180eae8e87}{get\+Envelope}} () const =0
\item 
const virtual Geometry\+Factory\+::\+Ptr \& \mbox{\hyperlink{class_map_aec5e1dc5a24940811b659f6e22f8b0a0}{get\+Global\+Factory}} () const =0
\item 
virtual void \mbox{\hyperlink{class_map_a24246583fbf3bbed56bfb5cd595f941f}{add\+Grid}} (double dim\+TileX, double dim\+TileY)
\item 
virtual unsigned long \mbox{\hyperlink{class_map_aace69b7294f0da0e2ca000dfa2a29606}{get\+No\+TilesX}} () const
\item 
virtual unsigned long \mbox{\hyperlink{class_map_a13ff108a9b56c432665d36ba1cbad1d0}{get\+No\+TilesY}} () const
\item 
virtual double \mbox{\hyperlink{class_map_a0a7326f8167effc1b6c0329de3c29d60}{get\+X\+Tile\+Dim}} () const
\item 
virtual double \mbox{\hyperlink{class_map_af36385173af71e8e0cd989dceb8f8aea}{get\+Y\+Tile\+Dim}} () const
\item 
virtual double \mbox{\hyperlink{class_map_af3e4dc640ee38ff6e77ab41435fcc42d}{get\+X\+Origin}} () const
\item 
virtual double \mbox{\hyperlink{class_map_a5bf4ef0a81f82df90465136c61a440bc}{get\+Y\+Origin}} () const
\item 
const virtual unsigned long \mbox{\hyperlink{class_map_ac10538e70070d20f09ac90b8cfcef554}{get\+No\+Tiles}} () const
\item 
virtual Coordinate \mbox{\hyperlink{class_map_a3ade598881798896b554f2ba34d8b499}{get\+Tile\+Center}} (unsigned long tile\+Index) const
\item 
virtual unsigned long \mbox{\hyperlink{class_map_af9727bc4d5a77cb35b60d92d0e176171}{get\+Tile\+No}} (const Point $\ast$p) const
\item 
virtual unsigned long \mbox{\hyperlink{class_map_ab68490803824fc485652757d992af18e}{get\+Tile\+No}} (double x, double y) const
\item 
virtual void \mbox{\hyperlink{class_map_afb74aa56fb64f4ab4857269c7924ec5a}{dump\+Grid}} (const string \&grid\+File\+Name) const
\item 
virtual Coordinate $\ast$ \mbox{\hyperlink{class_map_a6ff5cb95191b3a749f9a14b72eba2584}{get\+Tile\+Centers}} () const
\item 
virtual bool \mbox{\hyperlink{class_map_aca471e63e8f9f9a892a5491aee94eada}{has\+Grid}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_map_aa9b06672216e01d51b96cc4f70d3206d}{Map}} (string map\+File\+Name)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_grid}{Grid}} $\ast$ \mbox{\hyperlink{class_map_a0fc16621dbe307d36170c3a96b24b7d9}{m\+\_\+grid}}
\item 
string \mbox{\hyperlink{class_map_a54e527b86ef517e67b299ef06233addc}{m\+\_\+map\+File\+Name}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is an abstract the class defining the interface of any implementing class that will be used as the map of the simulation. Currently there is only one implementation, a \mbox{\hyperlink{class_w_k_t_map}{W\+K\+T\+Map}} class, which reads the external boundary from a W\+KT (Well Known Text) string stored in a file. This file is provided in the command line with \char`\"{}-\/m\char`\"{} option. The map has a boundary that is implemented as a Geometry object, a factory object of Geometry\+Factory type used to create other objects. It also embeds a grid of rectangular tiles that covers the whole map. These tiles are used later for computing the localization probability for each mobile device. All the methods requesting the grid parameters are delegated to the \mbox{\hyperlink{class_grid}{Grid}} object embeded in the \mbox{\hyperlink{class_map}{Map}} class. All geometric and geographic features of the simulator use the G\+E\+O\+S++ library. G\+E\+O\+S++ is an open source C++ library which is just a port to C++ of the well known Java Topology Suite. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_map_ac1ab46138aa61acd0a58b1fd21e0df37}\label{class_map_ac1ab46138aa61acd0a58b1fd21e0df37}} 
\index{Map@{Map}!````~Map@{$\sim$Map}}
\index{````~Map@{$\sim$Map}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{$\sim$Map()}{~Map()}}
{\footnotesize\ttfamily virtual Map\+::$\sim$\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Default destructor. \mbox{\Hypertarget{class_map_aa9b06672216e01d51b96cc4f70d3206d}\label{class_map_aa9b06672216e01d51b96cc4f70d3206d}} 
\index{Map@{Map}!Map@{Map}}
\index{Map@{Map}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{Map()}{Map()}}
{\footnotesize\ttfamily Map\+::\+Map (\begin{DoxyParamCaption}\item[{string}]{map\+File\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_map_a24246583fbf3bbed56bfb5cd595f941f}\label{class_map_a24246583fbf3bbed56bfb5cd595f941f}} 
\index{Map@{Map}!addGrid@{addGrid}}
\index{addGrid@{addGrid}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{addGrid()}{addGrid()}}
{\footnotesize\ttfamily virtual void Map\+::add\+Grid (\begin{DoxyParamCaption}\item[{double}]{dim\+TileX,  }\item[{double}]{dim\+TileY }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Creates a \mbox{\hyperlink{class_grid}{Grid}} object with the dimensions of tiles specified as parameters. It computes to necessary number of tiles such that the \mbox{\hyperlink{class_grid}{Grid}} covers the bounding box of the map. The origin point of the grid (the left bottom point) is set to the minimum values for x and y coordinates of the bounding box of the \mbox{\hyperlink{class_map}{Map}}. A pointer to the \mbox{\hyperlink{class_grid}{Grid}} object is then stored as a member of the \mbox{\hyperlink{class_map}{Map}} class. 
\begin{DoxyParams}{Parameters}
{\em dim\+TileX} & the dimension of a tile on OX axis. \\
\hline
{\em dim\+TileY} & the dimension of a grid on OY axis. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_map_afb74aa56fb64f4ab4857269c7924ec5a}\label{class_map_afb74aa56fb64f4ab4857269c7924ec5a}} 
\index{Map@{Map}!dumpGrid@{dumpGrid}}
\index{dumpGrid@{dumpGrid}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{dumpGrid()}{dumpGrid()}}
{\footnotesize\ttfamily virtual void Map\+::dump\+Grid (\begin{DoxyParamCaption}\item[{const string \&}]{grid\+File\+Name }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Writes the description of the grid to a file. This name of the file is read from the simulation configuration file. An example file is given here\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Origin X,Origin Y,X Tile Dim,Y Tile Dim,No Tiles X,No Tiles Y}
\DoxyCodeLine{0.000000,0.000000,250.000000,250.000000,40,40}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em grid\+File\+Name} & the name of the file where the description of the grid is written. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_map_aa6b66dc80060a42151228f3764db539f}\label{class_map_aa6b66dc80060a42151228f3764db539f}} 
\index{Map@{Map}!getBoundary@{getBoundary}}
\index{getBoundary@{getBoundary}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getBoundary()}{getBoundary()}}
{\footnotesize\ttfamily virtual Geometry$\ast$ Map\+::get\+Boundary (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Returns a pointer to a Geometry object that represents the external boundary of the map. \begin{DoxyReturn}{Returns}
a pointer to a Geometry object that represents the external boundary of the map. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{class_w_k_t_map_a0b326822ab1bcfc0765e97f3acb545b0}{W\+K\+T\+Map}}.

\mbox{\Hypertarget{class_map_a40854af632e83500ca5b44180eae8e87}\label{class_map_a40854af632e83500ca5b44180eae8e87}} 
\index{Map@{Map}!getEnvelope@{getEnvelope}}
\index{getEnvelope@{getEnvelope}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getEnvelope()}{getEnvelope()}}
{\footnotesize\ttfamily virtual Geometry$\ast$ Map\+::get\+Envelope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Returns the bounding box of the map. \begin{DoxyReturn}{Returns}
the bounding box of the map. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{class_w_k_t_map_af117af8392fc33f1e603f10ea57ac6b0}{W\+K\+T\+Map}}.

\mbox{\Hypertarget{class_map_aec5e1dc5a24940811b659f6e22f8b0a0}\label{class_map_aec5e1dc5a24940811b659f6e22f8b0a0}} 
\index{Map@{Map}!getGlobalFactory@{getGlobalFactory}}
\index{getGlobalFactory@{getGlobalFactory}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getGlobalFactory()}{getGlobalFactory()}}
{\footnotesize\ttfamily const virtual Geometry\+Factory\+::\+Ptr\& Map\+::get\+Global\+Factory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

It returns a pointer to the Geometry\+Factory of the G\+E\+O\+S++ library needed to create Geometry objects. \begin{DoxyReturn}{Returns}
a pointer to the Geometry\+Factory of the G\+E\+O\+S++ library needed to create Geometry objects. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{class_w_k_t_map_a566b85bafc53e2013e0a21d4a387ce91}{W\+K\+T\+Map}}.

\mbox{\Hypertarget{class_map_ac10538e70070d20f09ac90b8cfcef554}\label{class_map_ac10538e70070d20f09ac90b8cfcef554}} 
\index{Map@{Map}!getNoTiles@{getNoTiles}}
\index{getNoTiles@{getNoTiles}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getNoTiles()}{getNoTiles()}}
{\footnotesize\ttfamily const virtual unsigned long Map\+::get\+No\+Tiles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the total number of tiles in the grid. \begin{DoxyReturn}{Returns}
the total number of tiles in the grid. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_aace69b7294f0da0e2ca000dfa2a29606}\label{class_map_aace69b7294f0da0e2ca000dfa2a29606}} 
\index{Map@{Map}!getNoTilesX@{getNoTilesX}}
\index{getNoTilesX@{getNoTilesX}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getNoTilesX()}{getNoTilesX()}}
{\footnotesize\ttfamily virtual unsigned long Map\+::get\+No\+TilesX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the number of tiles of the grid on OX axis. \begin{DoxyReturn}{Returns}
the number of tiles of the grid on OX axis. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_a13ff108a9b56c432665d36ba1cbad1d0}\label{class_map_a13ff108a9b56c432665d36ba1cbad1d0}} 
\index{Map@{Map}!getNoTilesY@{getNoTilesY}}
\index{getNoTilesY@{getNoTilesY}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getNoTilesY()}{getNoTilesY()}}
{\footnotesize\ttfamily virtual unsigned long Map\+::get\+No\+TilesY (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the number of tiles of the grid on OY axis. \begin{DoxyReturn}{Returns}
the number of tiles of the grid on OY axis. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_a3ade598881798896b554f2ba34d8b499}\label{class_map_a3ade598881798896b554f2ba34d8b499}} 
\index{Map@{Map}!getTileCenter@{getTileCenter}}
\index{getTileCenter@{getTileCenter}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getTileCenter()}{getTileCenter()}}
{\footnotesize\ttfamily virtual Coordinate Map\+::get\+Tile\+Center (\begin{DoxyParamCaption}\item[{unsigned long}]{tile\+Index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Given a tile index, this method computes the center of the tile. 
\begin{DoxyParams}{Parameters}
{\em tile\+Index} & the tile index. Index 0 is assigned to the bottom left tile and the tiles are numbered using a row-\/major order. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the center of the tile with the index provided through the {\itshape tile\+Index} parameter. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_a6ff5cb95191b3a749f9a14b72eba2584}\label{class_map_a6ff5cb95191b3a749f9a14b72eba2584}} 
\index{Map@{Map}!getTileCenters@{getTileCenters}}
\index{getTileCenters@{getTileCenters}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getTileCenters()}{getTileCenters()}}
{\footnotesize\ttfamily virtual Coordinate$\ast$ Map\+::get\+Tile\+Centers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns an array with the coordinates of the centers of all tiles in the grid. \begin{DoxyReturn}{Returns}
an array of Coordinate objects with the coordinates of the centers of all tiles in the grid. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_af9727bc4d5a77cb35b60d92d0e176171}\label{class_map_af9727bc4d5a77cb35b60d92d0e176171}} 
\index{Map@{Map}!getTileNo@{getTileNo}}
\index{getTileNo@{getTileNo}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getTileNo()}{getTileNo()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual unsigned long Map\+::get\+Tile\+No (\begin{DoxyParamCaption}\item[{const Point $\ast$}]{p }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Given a position on the map specified by a Point object, this method computes the tile number where this position falls. 
\begin{DoxyParams}{Parameters}
{\em p} & a position on the map. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the tile number where the position specified by {\itshape p} falls. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_ab68490803824fc485652757d992af18e}\label{class_map_ab68490803824fc485652757d992af18e}} 
\index{Map@{Map}!getTileNo@{getTileNo}}
\index{getTileNo@{getTileNo}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getTileNo()}{getTileNo()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual unsigned long Map\+::get\+Tile\+No (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Given a position on the map specified by a x and y coordinates, this method computes the tile number where this position falls. 
\begin{DoxyParams}{Parameters}
{\em x} & the x coordinate of the position. \\
\hline
{\em y} & the x coordinate of the position. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the tile number where the position specified by {\itshape x} and {\itshape y} falls. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_af3e4dc640ee38ff6e77ab41435fcc42d}\label{class_map_af3e4dc640ee38ff6e77ab41435fcc42d}} 
\index{Map@{Map}!getXOrigin@{getXOrigin}}
\index{getXOrigin@{getXOrigin}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getXOrigin()}{getXOrigin()}}
{\footnotesize\ttfamily virtual double Map\+::get\+X\+Origin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the x coordinate of the origin of the grid. \begin{DoxyReturn}{Returns}
the x coordinate of the origin of the grid. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_a0a7326f8167effc1b6c0329de3c29d60}\label{class_map_a0a7326f8167effc1b6c0329de3c29d60}} 
\index{Map@{Map}!getXTileDim@{getXTileDim}}
\index{getXTileDim@{getXTileDim}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getXTileDim()}{getXTileDim()}}
{\footnotesize\ttfamily virtual double Map\+::get\+X\+Tile\+Dim (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the dimension of tile on OX axis. \begin{DoxyReturn}{Returns}
the dimension of tile on OX axis. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_a5bf4ef0a81f82df90465136c61a440bc}\label{class_map_a5bf4ef0a81f82df90465136c61a440bc}} 
\index{Map@{Map}!getYOrigin@{getYOrigin}}
\index{getYOrigin@{getYOrigin}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getYOrigin()}{getYOrigin()}}
{\footnotesize\ttfamily virtual double Map\+::get\+Y\+Origin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the y coordinate of the origin of the grid. \begin{DoxyReturn}{Returns}
the y coordinate of the origin of the grid. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_map_af36385173af71e8e0cd989dceb8f8aea}\label{class_map_af36385173af71e8e0cd989dceb8f8aea}} 
\index{Map@{Map}!getYTileDim@{getYTileDim}}
\index{getYTileDim@{getYTileDim}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{getYTileDim()}{getYTileDim()}}
{\footnotesize\ttfamily virtual double Map\+::get\+Y\+Tile\+Dim (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the dimension of tile on OY axis. \begin{DoxyReturn}{Returns}
the dimension of tile on OY axis. 


\end{DoxyReturn}
\mbox{\Hypertarget{class_map_aca471e63e8f9f9a892a5491aee94eada}\label{class_map_aca471e63e8f9f9a892a5491aee94eada}} 
\index{Map@{Map}!hasGrid@{hasGrid}}
\index{hasGrid@{hasGrid}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{hasGrid()}{hasGrid()}}
{\footnotesize\ttfamily virtual bool Map\+::has\+Grid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if the grid is set, false otherwise. This method is needed because the \mbox{\hyperlink{class_grid}{Grid}} object is not created by the constructor of this class but it is set a later moment, after the parameters of the grid are read from the simulation configuration file. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_map_a0fc16621dbe307d36170c3a96b24b7d9}\label{class_map_a0fc16621dbe307d36170c3a96b24b7d9}} 
\index{Map@{Map}!m\_grid@{m\_grid}}
\index{m\_grid@{m\_grid}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{m\_grid}{m\_grid}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_grid}{Grid}}$\ast$ Map\+::m\+\_\+grid\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_map_a54e527b86ef517e67b299ef06233addc}\label{class_map_a54e527b86ef517e67b299ef06233addc}} 
\index{Map@{Map}!m\_mapFileName@{m\_mapFileName}}
\index{m\_mapFileName@{m\_mapFileName}!Map@{Map}}
\doxysubsubsection{\texorpdfstring{m\_mapFileName}{m\_mapFileName}}
{\footnotesize\ttfamily string Map\+::m\+\_\+map\+File\+Name\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/map/\mbox{\hyperlink{_map_8h}{Map.\+h}}\end{DoxyCompactItemize}
